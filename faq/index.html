
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Piotr KrzemiÅ„ski">
      
      
      
        <link rel="prev" href="../feature-coverage/">
      
      
        <link rel="next" href="../projects-using-this-library/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>FAQ - github-workflows-kt</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#faq" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="github-workflows-kt" class="md-header__button md-logo" aria-label="github-workflows-kt" data-md-component="logo">
      
  <img src="../Logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            github-workflows-kt
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              FAQ
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/typesafegithub/github-workflows-kt/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="github-workflows-kt" class="md-nav__button md-logo" aria-label="github-workflows-kt" data-md-component="logo">
      
  <img src="../Logo.svg" alt="logo">

    </a>
    github-workflows-kt
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/typesafegithub/github-workflows-kt/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/using-actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/type-safe-expressions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Type-safe expressions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/job-outputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Job outputs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/migrating-to-Maven-based-bindings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrating to Maven-based bindings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/compensating-librarys-missing-features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compensating library's missing features
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/nightly-builds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nightly builds
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../feature-coverage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature coverage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-do-we-need-the-consistency-check-job" class="md-nav__link">
    <span class="md-ellipsis">
      Why do we need the consistency check job?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-do-we-need-github-actions-typing-shouldnt-it-be-done-by-github" class="md-nav__link">
    <span class="md-ellipsis">
      Why do we need github-actions-typing? Shouldn't it be done by GitHub?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kotlin-scripts-work-as-if-changes-in-the-imported-files-werent-applied-why" class="md-nav__link">
    <span class="md-ellipsis">
      Kotlin scripts work as if changes in the imported files weren't applied. Why?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#im-getting-an-unexpected-change-in-the-resulting-yaml-in-the-path-to-the-script-in-the-consistency-check-job-why" class="md-nav__link">
    <span class="md-ellipsis">
      I'm getting an unexpected change in the resulting YAML, in the path to the script in the consistency check job. Why?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#im-having-problems-editing-the-kotlin-based-workflows-in-intellij-why" class="md-nav__link">
    <span class="md-ellipsis">
      I'm having problems editing the Kotlin-based workflows in IntelliJ. Why?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://typesafegithub.github.io/github-workflows-kt/api-docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API docs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../projects-using-this-library/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projects using this library
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-do-we-need-the-consistency-check-job" class="md-nav__link">
    <span class="md-ellipsis">
      Why do we need the consistency check job?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-do-we-need-github-actions-typing-shouldnt-it-be-done-by-github" class="md-nav__link">
    <span class="md-ellipsis">
      Why do we need github-actions-typing? Shouldn't it be done by GitHub?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kotlin-scripts-work-as-if-changes-in-the-imported-files-werent-applied-why" class="md-nav__link">
    <span class="md-ellipsis">
      Kotlin scripts work as if changes in the imported files weren't applied. Why?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#im-getting-an-unexpected-change-in-the-resulting-yaml-in-the-path-to-the-script-in-the-consistency-check-job-why" class="md-nav__link">
    <span class="md-ellipsis">
      I'm getting an unexpected change in the resulting YAML, in the path to the script in the consistency check job. Why?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#im-having-problems-editing-the-kotlin-based-workflows-in-intellij-why" class="md-nav__link">
    <span class="md-ellipsis">
      I'm having problems editing the Kotlin-based workflows in IntelliJ. Why?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<div><h1 id="faq">FAQ</h1>
<h2 id="why-do-we-need-the-consistency-check-job">Why do we need the consistency check job?</h2>
<p>Each YAML workflow generated by this library by default contains a job that reruns the Kotlin script where the workflow
is defined, and ensures that the YAML file stored in the repository matches what is generated in the job.</p>
<p>The only valid definition of a GitHub Actions workflow is the YAML-based file. GitHub understand only this
representation. In order to provide an alternative representation (here: using Kotlin scripting), we need to have a way
of ensuring that whatever is described in the Kotlin scripts matches what is stored in the YAMLs. Otherwise, reading
the Kotlin scripts wouldn't reflect what the workflows actually do. The only way of ensuring that e.g. no outdated YAML
is run is to check the consistency before the workflow's main logic runs. The consistency check job performs the check
directly before the main logic runs, and it's possible to perform this check on demand which is useful e.g. for
workflows that aren't triggered in PRs. Adding the consistency check job to the YAML can be disabled, but it's not
recommended if correctness is your priority, and should be done if you're sure what you're doing.</p>
<p>We realize that this extra runtime step adds certain overhead to the workflows, and that in fact the users of the library
compromise their workflows' performance and sometimes sacrifice money (Actions credits) to get more type-safe workflows.
We're working on making the situation better, but for now this is the price you need to pay to describe GitHub Actions
workflows.</p>
<p>We've requested support for alternative ways of defining the workflows, not only in YAML:
<a href="https://github.com/orgs/community/discussions/15904">https://github.com/orgs/community/discussions/15904</a>. However, we only got
<a href="https://github.com/orgs/community/discussions/15904#discussioncomment-3304548">this answer</a> saying YAML won't go
anywhere soon and there are no plans of providing an alternative way.</p>
<h2 id="why-do-we-need-github-actions-typing-shouldnt-it-be-done-by-github">Why do we need <a href="https://github.com/typesafegithub/github-actions-typing">github-actions-typing</a>? Shouldn't it be done by GitHub?</h2>
<p>Yes, ideally it should. We've tried contacting GitHub and encouraging them to either introduce this mechanism as a
first-party thing, or acknowledge this third-party tool to be recommended by GitHub.</p>
<p>See:</p>
<ul>
<li>a discussion in GitHub community forum: <a href="https://github.com/orgs/community/discussions/32054">https://github.com/orgs/community/discussions/32054</a></li>
<li>an attempt to add typings for an action owned by GitHub: <a href="https://github.com/actions/stale/pull/830">https://github.com/actions/stale/pull/830</a></li>
<li>an attempt to add typings to the TypeScript action template: <a href="https://github.com/actions/typescript-action/pull/744">https://github.com/actions/typescript-action/pull/744</a></li>
</ul>
<h2 id="kotlin-scripts-work-as-if-changes-in-the-imported-files-werent-applied-why">Kotlin scripts work as if changes in the imported files weren't applied. Why?</h2>
<p>It's a known bug in the Kotlin compiler. In short, only changes in the top-level script trigger recompilation, and
changes in the imported scripts make the Kotlin compiler reuse the cached JAR.</p>
<p>You can work around it in two ways:</p>
<ul>
<li>remove the cache whenever needed, before rerunning the modified script. See <a href="https://youtrack.jetbrains.com/issue/KT-42101/Scripts-fileImport-in-kotlin-main-kts-uses-a-stale-cache#focus=Comments-27-7394205.0-0">this comment</a>
  to learn where the cache is stored on popular operating systems,</li>
<li>disable caching by setting <code>KOTLIN_MAIN_KTS_COMPILED_SCRIPTS_CACHE_DIR</code> to an empty value.</li>
</ul>
<p>Here's a ticket on the JetBrains side:
<a href="https://youtrack.jetbrains.com/issue/KT-42101">[KT-42101] Scripts: @file:Import() in kotlin-main-kts uses a stale cache</a>.</p>
<h2 id="im-getting-an-unexpected-change-in-the-resulting-yaml-in-the-path-to-the-script-in-the-consistency-check-job-why">I'm getting an unexpected change in the resulting YAML, in the path to the script in the consistency check job. Why?</h2>
<p>You're most likely affected by another bug related to stale cache. See the previous FAQ item for workarounds.</p>
<p>Here's a ticket on the JetBrains side:
<a href="https://youtrack.jetbrains.com/issue/KT-64367">[KT-64367] Script: stale cache used if <strong>FILE</strong> is different</a></p>
<h2 id="im-having-problems-editing-the-kotlin-based-workflows-in-intellij-why">I'm having problems editing the Kotlin-based workflows in IntelliJ. Why?</h2>
<p>Depending on the complexity of your workflows, you may stumble upon some rough edges in how IntelliJ supports Kotlin
scripting. It's lagging behind the support provided by Kotlin itself.</p>
<p>Here's a list of tickets on the JetBrains side, along with proposed workarounds:</p>
<ul>
<li>
<p><strong><a href="https://youtrack.jetbrains.com/issue/KTIJ-14580">[KTIJ-14580] Imported script are not supported for scripts outside of a source root</a></strong><br>
  It's possible to partially mitigate it by adding dependencies from the imported files directly in the top-level
  script.</p>
</li>
<li>
<p><strong><a href="https://youtrack.jetbrains.com/issue/KTIJ-16532">[KTIJ-16532] Scripting: dependencies do not open source files</a></strong><br>
  There are several workarounds: browse the code in GitHub, add a dependency on the library in your main project which
  will let you browse the source code in the IDE, or maybe it's enough to use
  <a href="https://typesafegithub.github.io/github-workflows-kt/api-docs/">the rendered API docs</a>.</p>
</li>
<li>
<p><strong><a href="https://youtrack.jetbrains.com/issue/KTIJ-31203">[KTIJ-31203] main.kts script handler uses stale <code>@Repository</code> value to resolve dependencies</a></strong><br>
  When changing <code>@Repository</code> values, close the IntelliJ project and re-open it.
  If IntelliJ already resolved the dependency from the old repository, you might need to delete it from the Maven Local
  cache repository and after that restart the whole IDE as IntelliJ might not see the recreated file even after
  executing the workflow script and the file was recreated in the Maven Local cache repository. (also see next points)</p>
</li>
<li>
<p><strong>A new release of an action added some input, but I don't see it in the IDE</strong><br>
  If you depend on a major version of an action like <code>v1</code> and the action adds backwards compatible changes in a new
  release that adds inputs, the generated <code>v1</code> bindings are already present in your Maven Local cache repository and
  you do not get a new binding generated that includes the new inputs. To work-around this, delete the cache binding
  from your Maven Local cache repository, which typically is located at <code>~/.m2/respository/</code>. After that, executing or
  syncing the workflow script will re-request a fresh binding from the binding server that will include the up-to-date
  state of the action.</p>
</li>
<li>
<p><strong><a href="https://youtrack.jetbrains.com/issue/KTIJ-31214">[KTIJ-31214] Deleting a dependency jar from Maven Local and recreating it leaves <code>*.main.kts</code> script with unresolved symbols until IDE is restarted</a></strong><br>
  After following the previous step and deleting a dependency from the Maven Local cache repository to get it updated,
  IntelliJ will not re-resolve the dependency and even doing so in another way like actually executing the workflow
  script, IntelliJ still treats the classes as unresolved symbols. To get to a usable state again, you need to restart
  the whole IDE, just closing and re-opening the project is not sufficient.</p>
</li>
</ul></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>