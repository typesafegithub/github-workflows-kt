# This file was generated using Kotlin DSL (library/src/test/kotlin/it/krzeminski/githubactions/dsl/ExprIntegrationTest.kt).
# If you want to modify the workflow, please change the Kotlin file and regenerate this YAML file.
# Generated with https://github.com/krzema12/github-actions-kotlin-dsl

name: expr-typesafe

on:
  push:

jobs:
  "job1":
    runs-on: "ubuntu-latest"
    env:
      $GREETING: World
    strategy:
      matrix:
        OS:
          - ubuntu-latest
          - windows-latest
        matrix.NODE:
          - 14
          - 16
    steps:
      - id: step-0
        uses: actions/checkout@v3
      - id: step-1
        name: Default environment variable
        run: action=$GITHUB_ACTION repo=$GITHUB_REPOSITORY
        if: ${{ always() }}
      - id: step-2
        name: Custom environment variable
        env:
          $FIRST_NAME: Patrick
        run: echo ${{ $GREETING }} ${{ $FIRST_NAME }}
      - id: step-3
        name: Encrypted secret
        env:
          $SECRET: ${{ secrets.SUPER_SECRET }}
          $TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: echo secret=$SECRET token=$TOKEN
      - id: step-4
        name: MatrixContext node
        uses: actions/setup-node@v3
        with:
          node-version: ${{ matrix.NODE }}
      - id: step-5
        name: RunnerContext create temp directory
        run: mkdir ${{ runner.temp }}/build_logs
      - id: step-6
        name: GitHubContext echo sha
        run: echo ${{ github.sha }}
      - id: step-7
        name: StrategyContext job-index
        run: npm test > test-job-${{ strategy.job-index }}.txt